{
  "name": "wintersmith",
  "version": "1.0.7",
  "author": {
    "name": "Johan Nordberg",
    "email": "its@johan-nordberg.com"
  },
  "description": "A flexible static site generator.",
  "license": "MIT",
  "main": "./lib/",
  "keywords": [
    "static",
    "generator",
    "markdown",
    "jade"
  ],
  "bin": {
    "wintersmith": "./bin/wintersmith"
  },
  "scripts": {
    "prepublish": "./bin/dev/compile_coffee"
  },
  "directories": {
    "lib": "./lib/"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/jnordberg/wintersmith.git"
  },
  "dependencies": {
    "marked": "git://github.com/jnordberg/marked.git",
    "coffee-script": "1.3.x",
    "async": "0.1.x",
    "highlight": "0.2.x",
    "jade": "0.25.x",
    "ncp": "0.2.x",
    "rimraf": "2.x.x",
    "winston": "0.5.x",
    "colors": "0.x.x",
    "glob": "3.1.x",
    "optimist": "0.3.x",
    "underscore": "1.3.x",
    "minimatch": "0.2.x",
    "mime": "1.2.x"
  },
  "engine": {
    "node": ">=0.6"
  },
  "readme": "#![Wintersmith](http://jnordberg.github.com/wintersmith/img/wintersmith.svg)\n\nA flexible static site generator – http://jnordberg.github.com/wintersmith/\n\n## Features\n\n * Easy to use\n * Generated sites can be hosted anywhere (output is plain html)\n * Write articles/pages using markdown\n * Robust templating using [Jade](https://github.com/visionmedia/jade)\n * Preview server (no need to rebuild every time you make a change)\n * Highly configurable\n * Extendable using [plugins](https://github.com/jnordberg/wintersmith/wiki/Plugins)\n * FAST!\n\n## Quick-start\n\nFirst install wintersmith using [npm](http://npmjs.org/):\n\n```bash\n$ npm install wintersmith -g\n```\n\nThis will install wintersmith globally on your system so that you can access the `wintersmith` command from anywhere. Once that is complete run:\n\n```bash\n$ wintersmith new <path>\n```\n\nWhere `<path>` is the location you want the site to be generated. This creates a skeleton site with a basic set of templates and some articles, while not strictly needed it's a good starting point.\n\nNow enter the directory and start the preview server:\n\n```bash\n$ cd <path>\n$ wintersmith preview\n```\n\nAt this point you are ready to start customizing your site. Point your browser to `http://localhost:8080` and start editing templates and articles.\n\nWhen done run:\n\n```bash\n$ wintersmith build\n```\n\nThis generates your site and places it in the `build/` directory - all ready to be copied to your web server!\n\nAnd remember to give the old `--help` a look :-)\n\n## Overview\n\nA wintersmith site is built up of two main components, contents and templates.\n\nContents is a directory where all the sites raw material goes (markdown files, images, javascript etc). This directory is then scanned to produce what's internally called a ContentTree.\n\nThe ContentTree is a nested object built up of ContentPlugins and looks something like this:\n\n```javascript\n{\n  \"myfile.md\": {MarkdownPlugin} // plugin instance, subclass of ContentPlugin\n  \"some-dir/\": { // another ContentTree instance\n    \"image.jpg\": {StaticPlugin}\n    \"random.file\": {StaticPlugin}\n  }\n}\n```\n\nThis content tree is provided in full to all plugins in turn when rendering. This gives you a lot of flexibility when writing plugins, you could for example write a plugin that generates a mosaic using images located in a specific directory.\n\nWintersmith comes with a default Page plugin that renders markdown content using templates. This plugin takes markdown (combined with some metadata, more on this later) compiles it and provides it to a template along with the content tree and some utility functions.\n\nThis brings us to the second component, the template directory. All templates found in this directory are loaded and are also passed to the content plugins when rendering.\n\nBy default only `.jade` templates are loaded, but you can easily add template plugins to use a template engine of your choosing.\n\nCheck the `examples/` directory for some inspiration on how you can use wintersmith or the [showcase](https://github.com/jnordberg/wintersmith/wiki/Showcase) to see what others are doing.\n\n## Config\n\nConfiguration can be done with command-line options, a config file or both. The config file will be looked for as `config.json` in the root of your site (you can set a custom path using `--config`).\n\n### Options\n\n<table>\n  <tr>\n    <th>Name</th>\n    <th>Default</th>\n    <th>Description</th>\n  </tr>\n  <tr>\n    <td>output</td>\n    <td>./build</td>\n    <td>output directory, this is where the generated site is output</td>\n  </tr>\n  <tr>\n    <td>contents</td>\n    <td>./contents</td>\n    <td>contents directory, where to look for site contents (markdown, images, etc)</td>\n  </tr>\n  <tr>\n    <td>templates</td>\n    <td>./templates</td>\n    <td>template directory, where to look for templates</td>\n  </tr>\n  <tr>\n    <td>locals</td>\n    <td>{}</td>\n    <td>javascript object to pass to all templates when rendering, useful for storing metadata for your site. can also be a path to a json file</td>\n  </tr>\n  <tr>\n    <td>require</td>\n    <td>[]</td>\n    <td>list of modules to load and provide to the template context</td>\n  </tr>\n  <tr>\n    <td>plugins</td>\n    <td>[]</td>\n    <td>list of plugin modules to load</td>\n  </tr>\n</table>\n\nAll paths can either be relative or absolute. Relative paths will be resolved from the current directory or `--chdir` if set.\n\n## The Page plugin\n\nA page is either a markdown file with metadata on top or a json file located in the contents directory.\n\n```markdown\ntitle: My first post\ndate: 2012-12-12 12:12\nauthor: John Hjort <foo@bar.com>\ntemplate: article.jade\n\n\n# Hello friends!\n\nLife is wonderful, isn't it?\n\n```\n\nor use json to simply pass metadata to a template:\n\n```json\n{\n  \"template\": \"template.jade\",\n  \"meta\": {\n  \t\"greta\": 123,\n  \t\"peta\": [1, 2, 3]\n  }\n}\n```\n\nPages will be rendered as html, so for example `index.md` would be rendered to `index.html` and `some-dir/data.json` to `some-dir/data.html`.\n\n### Links\n\nAll relative links in the markdown will be resolved correctly when rendering. This means you can just place *image.png* in the same directory and simply include it in your markdown as `![my image](image.png)`\n\nThis is especially convenient when using a markdown editor (read [Mou](http://mouapp.com/) if you're on a mac).\n\n### Metadata\n\nMetadata can be any `key: value` pair you want. And will be accessible in the template as `page.metadata`.\n\nThere are two special metadata keys, The first one is `template` which specifies what template to render the page with. If the key is omitted or set to `none` the page will not be rendered (but still available in the content tree).\n\nThe second one is `filename` which can be used to override the output filename of the page. Useful if you need to output a `.xml` file or something similar.\n\n### Templates\n\nWhen a page is rendered to a template the page instance is available as `page` in the template context. The content tree is also available as `contents` and the config.locals object as `locals`.\n\n[underscore.js](http://documentcloud.github.com/underscore/) is also available as `_` to provide some utility to aid you sorting and filtering the content tree.\n\n### The Page model\n\nThe Page model (inherits from ContentPlugin)\n\nProperties:\n\n<table>\n  <tr>\n    <td>metadata</td>\n    <td>the metadata object</td>\n  </tr>\n  <tr>\n    <td>title</td>\n    <td>`metadata.title` or `Untitled`</td>\n  </tr>\n  <tr>\n    <td>date</td>\n    <td>Date object from `metadata.date` if set or unix epoch time</td>\n  </tr>\n  <tr>\n    <td>rfc822date</td>\n    <td>a rfc-822 formatted string made from `date`</td>\n  </tr>\n  <tr>\n    <td>body</td>\n    <td>unparsed markdown content</td>\n  </tr>\n  <tr>\n    <td>html</td>\n    <td>parsed markdown content</td>\n  </tr>\n</table>\n\n## Writing plugins\n\nWintersmith has two types of plugins, content plugins that transform contents and template plugins that are provided to the content plugins to help render contents.\n\nA list of 3rd party plugins can be found on [the wiki](https://github.com/jnordberg/wintersmith/wiki/Plugins).\n\n\n### Content Plugins\n\nA content plugin is a subclass of `ContentPlugin` and should provide a `fromFile` class method, a `render` instance method and a `getFilename` instance method.\n\n`render` is called with the content tree, template list, locals and a callback. Have a look in `src/contents.coffee` it's pretty well documented.\n\nContent plugins are registered using the `registerContentPlugin` function.\n\n<table>\n  <tr>\n    <th colspan=2>registerContentPlugin(group, pattern, plugin)</th>\n  </tr>\n  <tr>\n    <td>group</td>\n    <td>\n      <p><em>string</em> - plugin group name\n\n      <p>Groups are used to easily access a specific type of conent in the tree. The content tree has a special property <code>_</code> that contains\n      returns a object with all plugin groups as <code>{groupname: [pluginInstance, ..], ..}</code>\n\n      <p>For example you can use <code>contents.somedir._.pages</code> to get an array of all pages in a directory.\n    </td>\n  </tr>\n  <tr>\n    <td>pattern</td>\n    <td>\n      <p><em>string</em> - glob pattern (e.g. <code>**/*.txt</code>)\n\n      <p>Glob pattern used to match files that should be handled by the plugin. Uses the [minimatch](https://github.com/isaacs/minimatch) module.\n    </td>\n  </tr>\n  <tr>\n    <td>plugin</td>\n    <td>\n      <p><em>class</em> - the ContentPlugin subclass\n    </td>\n  </tr>\n</table>\n\n\n### Template Plugins\n\nA template plugins is a subclass of `TemplatePlugin` and should also provide a `fromFile` class method and a `render` instance method.\n\nTemplate plugins are registered using:\n\n`function registerTemplatePlugin(pattern, plugin) { .. }`\n\nwhere *pattern* is the glob pattern to match in the template directory and plugin is the plugin subclass.\n\n### Plugin Modules\n\nThe easiest way to load a wintersmith plugin is to use the `plugins` config option.\n\nExample:\n\n`myplugin.coffee`\n\n```coffeescript\n\nmodule.exports = (wintersmith, callback) ->\n\n  class TextPlugin extends wintersmith.ContentPlugin\n\n    constructor: (@_filename, @_text) ->\n\n    getFilename: ->\n      @_filename\n\n    render: (locals, contents, templates, callback) ->\n      # do something with the text!\n      callback null, new Buffer @_text\n\n  TextPlugin.fromFile = (filename, base, callback) ->\n    fs.readFile path.join(base, filename), (error, buffer) ->\n      if error\n        callback error\n      else\n        callback null, new TextPlugin filename, buffer.toString()\n\n  wintersmith.registerContentPlugin 'text', '**/*.txt', TextPlugin\n  callback() # tell the plugin manager we are done\n\n```\n\nTo use this plugin simply pass the path to the file to the cli tool (`--plugins ./myplugin.coffee`)\n\nYou can also use globally or locally installed modules as plugins.\n\n## Using wintersmith programmatically\n\nexample:\n\n```javascript\n\nvar wintersmith = require('wintersmith');\n\nvar options = {\n  'output': '/var/www/pub',\n  'contents': '/foo/contents',\n  'contents': '/foo/templates',\n  'locals': {foo: 'bar'}\n};\n\nwintersmith(options, callback(error) {\n  if (error) {\n    throw error;\n  } else {\n\tconsole.log('great success!');\n  }\n});\n\n// you can also use the api to get the content tree\nwintersmith.loadContents('path/to/contents', callback(error, contents) {\n  // do something with the content tree\n});\n\n```\n\nThere are more api methods defined, have a look at the source it's pretty well-commented.\n\n## About\n\nWintersmith is written by [Johan Nordberg](http://johan-nordberg.com) using [CoffeeScript](http://coffeescript.org/) and licensed under the [MIT-license](http://en.wikipedia.org/wiki/MIT_License).\n\nThe name is a nod to [blacksmith](https://github.com/flatiron/blacksmith) which inspired this project. (and [Terry Pratchett](http://www.terrypratchett.co.uk/) of course)\n\nSome of the great node.js modules that wintersmith uses:\n\n * [async](https://github.com/caolan/async)\n * [marked](https://github.com/chjj/marked)\n * [jade](https://github.com/visionmedia/jade)\n * [coffee-script](https://github.com/jashkenas/coffee-script)\n\nCheck the `package.json` for a complete list.\n\n\n----\n\n*© 2012 FFFF00 Agents AB*\n",
  "readmeFilename": "readme.md",
  "bugs": {
    "url": "https://github.com/jnordberg/wintersmith/issues"
  },
  "homepage": "https://github.com/jnordberg/wintersmith",
  "_id": "wintersmith@1.0.7",
  "dist": {
    "shasum": "76977eac0a56752524e7ffa26950808a2722457d"
  },
  "_from": "wintersmith@1.0.x",
  "_resolved": "https://registry.npmjs.org/wintersmith/-/wintersmith-1.0.7.tgz"
}
