<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>localghost.io</title><link rel="alternate" href="//feed.xml" type="application/rss+xml" title="-Love data, design and most of all, the web"><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/layout.css"><link rel="stylesheet" href="/css/styling.css"><link rel="stylesheet" href="/css/fonts.css"><link rel="stylesheet" href="/css/styles/ir_black.css"><script src="/js/highlight.pack.js"></script><script src="/js/jquery.min.js"></script><script src="/js/comments.js"></script><!--script(src='/js/script.js')--></head><body><nav><ul><li><a href="/articles/iis7-and-static-files-madness-2013-10-05/" class="selected">Blog</a></li><li class="sep">|</li><li><a href="/archive.html" id="archive" class="">Archives</a></li><li class="sep">|</li><li><a href="/about-me.html" class="">About Me</a></li></ul></nav><header class="clearfix"><!--img#logo(src='/images/backgrounds/logo-32.png')      --><h1> <a href="/">localghost.io</a><span class="blink">_</span></h1></header><section class="content"></section><article class="post"><header><h2><a href>Writing a simple wintersmith plugin</a></h2></header><section class="content"><p>I wanted to hook in to how <code>&lt;img&gt;</code> are outputted by giving them a wrapper element. 
The reason I want to do this is so that i can give the wrapper a full page width background while centering and constraining the img&#39;s <code>max-width</code> to different sizes on different screen sizes. </p>
<p>Enter <code>wintersmith-markdownhacks</code>:</p>
<pre><code class="lang-coffee">fs = require &#39;fs&#39;
path = require &#39;path&#39;
url = require &#39;url&#39;

module.exports = (wintersmith, callback) -&gt;

class LocalGhostPage extends wintersmith.defaultPlugins.MarkdownPage

    getHtml: (base) -&gt;
        super base
        @_html = @_html.replace(/(&lt;img[^&gt;]+&gt;)/g, &#39;&lt;div class=&quot;image-wrapper&quot;&gt;$1&lt;/div&gt;&#39;)
        return @_html


    wintersmith.registerContentPlugin &#39;pages&#39;, &#39;**/*.*(markdown|mkd|md)&#39;, LocalGhostPage

    callback()</code></pre>
<p>Registered in wintersmith&#39;s <code>config.json</code>:</p>
<pre><code>&quot;plugins&quot;: [
    &quot;wintersmith-sass&quot;,
    &quot;./node_modules/wintersmith-markdownhacks/plugin.coffee&quot;
]</code></pre>
<p>It&#39;s dirty but I love it&#153;. Here&#39;s an obligatory cat gif showing the end result.</p>
<p><div class="image-wrapper"><img src="https://lh3.googleusercontent.com/-LRMOoQYIynY/UNH4iMul_gI/AAAAAAAAGoY/eJHrtOsd2QI/s275/137.gif" alt="obligatory cat gif"></div></p>
<h2><a href="https://github.com/Mpdreamz/localghost.io/issues/1" class="commentCount">Comments       </a></h2><p class="comments">Comments on this post are linked to <a href="https://github.com/Mpdreamz/localghost.io/issues/1" data-api="https://api.github.com/repos/Mpdreamz/localghost.io/issues/1/comments" class="commentLink">this post's issue page on GitHub</a></p></section></article><script>hljs.initHighlightingOnLoad(); </script></body></html>